(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"f+ep":function(n,l,t){"use strict";t.r(l),t.d(l,"LoginModuleNgFactory",(function(){return H}));var u=t("CcnG"),e=t("mrSG"),i=t("K9Ia"),o=function(n){function l(l,t){var u=n.call(this,l,t)||this;return u.scheduler=l,u.work=t,u}return e.c(l,n),l.prototype.schedule=function(l,t){return void 0===t&&(t=0),t>0?n.prototype.schedule.call(this,l,t):(this.delay=t,this.state=l,this.scheduler.flush(this),this)},l.prototype.execute=function(l,t){return t>0||this.closed?n.prototype.execute.call(this,l,t):this._execute(l,t)},l.prototype.requestAsyncId=function(l,t,u){return void 0===u&&(u=0),null!==u&&u>0||null===u&&this.delay>0?n.prototype.requestAsyncId.call(this,l,t,u):l.flush(this)},l}(t("h9Dq").a),r=new(function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return e.c(l,n),l}(t("CS9Q").a))(o),s=t("pugT"),a=t("FFOo"),c=t("60iU"),d=function(n){function l(l,t,u){void 0===u&&(u=0);var e=n.call(this,l)||this;return e.scheduler=t,e.delay=u,e}return e.c(l,n),l.dispatch=function(n){n.notification.observe(n.destination),this.unsubscribe()},l.prototype.scheduleMessage=function(n){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new p(n,this.destination)))},l.prototype._next=function(n){this.scheduleMessage(c.a.createNext(n))},l.prototype._error=function(n){this.scheduleMessage(c.a.createError(n)),this.unsubscribe()},l.prototype._complete=function(){this.scheduleMessage(c.a.createComplete()),this.unsubscribe()},l}(a.a),p=function(){return function(n,l){this.notification=n,this.destination=l}}(),h=t("8g8A"),g=t("uMaO"),b=function(n){function l(l,t,u){void 0===l&&(l=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY);var e=n.call(this)||this;return e.scheduler=u,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=l<1?1:l,e._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return e.c(l,n),l.prototype.nextInfiniteTimeWindow=function(l){var t=this._events;t.push(l),t.length>this._bufferSize&&t.shift(),n.prototype.next.call(this,l)},l.prototype.nextTimeWindow=function(l){this._events.push(new f(this._getNow(),l)),this._trimBufferThenGetEvents(),n.prototype.next.call(this,l)},l.prototype._subscribe=function(n){var l,t=this._infiniteTimeWindow,u=t?this._events:this._trimBufferThenGetEvents(),e=this.scheduler,i=u.length;if(this.closed)throw new h.a;if(this.isStopped||this.hasError?l=s.a.EMPTY:(this.observers.push(n),l=new g.a(this,n)),e&&n.add(n=new d(n,e)),t)for(var o=0;o<i&&!n.closed;o++)n.next(u[o]);else for(o=0;o<i&&!n.closed;o++)n.next(u[o].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),l},l.prototype._getNow=function(){return(this.scheduler||r).now()},l.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),l=this._bufferSize,t=this._windowTime,u=this._events,e=u.length,i=0;i<e&&!(n-u[i].time<t);)i++;return e>l&&(i=Math.max(i,e-l)),i>0&&u.splice(0,i),u},l}(i.a),f=function(){return function(n,l){this.time=n,this.value=l}}(),m=t("6blF"),v=t("26FU"),w=t("P6uZ"),y=function(){function n(n){var l,t=this;this.lazyLoad=!1,this.providers=new Map,this._ready=new b,(l=n)&&(l instanceof m.a||"function"==typeof l.lift&&"function"==typeof l.subscribe)?n.pipe(Object(w.a)()).subscribe((function(n){t.initialize(n)})):this.initialize(n)}return n.prototype.initialize=function(n){for(var l=0;l<n.length;l++){var t=n[l];this.providers.set(t.id,t.provider),this.lazyLoad=this.lazyLoad||t.lazyLoad}this._ready.next(),this._ready.complete()},n}(),_=function(){function n(n){var l=this;this._user=null,this._authState=new b(1),this._readyState=new v.a([]),this.initialized=!1,n._ready.subscribe((function(){l.providers=n.providers,n.lazyLoad||l.initialize()}))}var l;return l=n,Object.defineProperty(n.prototype,"authState",{get:function(){return this._authState.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this._readyState.asObservable()},enumerable:!0,configurable:!0}),n.prototype.initialize=function(){var n=this;this.initialized=!0,this.providers.forEach((function(l,t){l.initialize().then((function(){var u=n._readyState.getValue();u.push(t),n._readyState.next(u),l.getLoginStatus().then((function(l){l.provider=t,n._user=l,n._authState.next(l)})).catch((function(l){n._authState.next(null)}))}))}))},n.prototype.signIn=function(n,t){var u=this;return this.initialized||this.initialize(),new Promise((function(e,i){var o=u.providers.get(n);o?o.signIn(t).then((function(l){l.provider=n,e(l),u._user=l,u._authState.next(l)})).catch((function(n){i(n)})):i(l.ERR_LOGIN_PROVIDER_NOT_FOUND)}))},n.prototype.signOut=function(n){var t=this;return void 0===n&&(n=!1),this.initialized||this.initialize(),new Promise((function(u,e){if(t._user){var i=t.providers.get(t._user.provider);i?i.signOut(n).then((function(){u(),t._user=null,t._authState.next(null)})).catch((function(n){e(n)})):e(l.ERR_LOGIN_PROVIDER_NOT_FOUND)}else e(l.ERR_NOT_LOGGED_IN)}))},n.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",n.ERR_NOT_LOGGED_IN="Not logged in",n}(),S=function(){function n(n){if(n)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}var l;return l=n,n.initialize=function(n){return{ngModule:l,providers:[_,{provide:y,useValue:n}]}},n}(),I=function(){return function(){}}(),L=function(){function n(){this._readyState=new v.a(!1)}return n.prototype.onReady=function(){var n=this;return new Promise((function(l,t){n._readyState.subscribe((function(n){n&&l()}))}))},n.prototype.loadScript=function(n,l,t,u,e){if(void 0===u&&(u=!0),void 0===e&&(e=""),"undefined"!=typeof document&&!document.getElementById(n)){var i=document.createElement("script");i.async=u,i.src=l,i.onload=t,document.head.appendChild(i)}},n}(),O=function(n){function l(l,t){void 0===t&&(t={scope:"email"});var u=n.call(this)||this;return u.clientId=l,u.opt=t,u}return Object(e.c)(l,n),l.prototype.initialize=function(){var n=this;return new Promise((function(t,u){n.loadScript(l.PROVIDER_ID,"https://apis.google.com/js/platform.js",(function(){gapi.load("auth2",(function(){n.auth2=gapi.auth2.init(Object(e.a)(Object(e.a)({},n.opt),{client_id:n.clientId})),n.auth2.then((function(){n._readyState.next(!0),t()})).catch((function(n){u(n)}))}))}))}))},l.prototype.getLoginStatus=function(){var n=this;return new Promise((function(l,t){n.onReady().then((function(){if(n.auth2.isSignedIn.get()){var u=new I,e=n.auth2.currentUser.get().getBasicProfile(),i=n.auth2.currentUser.get().getAuthResponse(!0).access_token,o=n.auth2.currentUser.get().getAuthResponse(!0).id_token;u.id=e.getId(),u.name=e.getName(),u.email=e.getEmail(),u.photoUrl=e.getImageUrl(),u.firstName=e.getGivenName(),u.lastName=e.getFamilyName(),u.authToken=i,u.idToken=o,l(u)}else t("No user is currently logged in.")}))}))},l.prototype.signIn=function(n){var l=this;return new Promise((function(t,u){l.onReady().then((function(){(n&&n.offline_access||l.opt&&l.opt.offline_access?l.auth2.grantOfflineAccess(n):l.auth2.signIn(n)).then((function(n){var u=new I,e=l.auth2.currentUser.get().getBasicProfile(),i=l.auth2.currentUser.get().getAuthResponse(!0).access_token,o=l.auth2.currentUser.get().getAuthResponse(!0).id_token;u.id=e.getId(),u.name=e.getName(),u.email=e.getEmail(),u.photoUrl=e.getImageUrl(),u.firstName=e.getGivenName(),u.lastName=e.getFamilyName(),u.authToken=i,u.idToken=o,n&&n.code&&(u.authorizationCode=n.code),t(u)}),(function(n){u("User cancelled login or did not fully authorize.")})).catch((function(n){u(n)}))}))}))},l.prototype.signOut=function(n){var l=this;return new Promise((function(t,u){l.onReady().then((function(){(n?l.auth2.disconnect():l.auth2.signOut()).then((function(n){n?u(n):t()})).catch((function(n){u(n)}))}))}))},l.PROVIDER_ID="GOOGLE",l}(L),N=function(n){function l(l,t,u,e,i){void 0===t&&(t={scope:"email,public_profile"}),void 0===u&&(u="en_US"),void 0===e&&(e="name,email,picture,first_name,last_name"),void 0===i&&(i="v4.0");var o=n.call(this)||this;return o.clientId=l,o.opt=t,o.locale=u,o.fields=e,o.version=i,o}return Object(e.c)(l,n),l.prototype.initialize=function(){var n=this;return new Promise((function(t,u){n.loadScript(l.PROVIDER_ID,"//connect.facebook.net/"+n.locale+"/sdk.js",(function(){FB.init({appId:n.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:n.version}),n._readyState.next(!0),t()}))}))},l.prototype.getLoginStatus=function(){var n=this;return new Promise((function(l,t){n.onReady().then((function(){FB.getLoginStatus((function(u){if("connected"===u.status){var e=u.authResponse;FB.api("/me?fields="+n.fields,(function(n){var t=new I;t.id=n.id,t.name=n.name,t.email=n.email,t.photoUrl="https://graph.facebook.com/"+n.id+"/picture?type=normal",t.firstName=n.first_name,t.lastName=n.last_name,t.authToken=e.accessToken,t.facebook=n,l(t)}))}else t("No user is currently logged in.")}))}))}))},l.prototype.signIn=function(n){var l=this;return new Promise((function(n,t){l.onReady().then((function(){FB.login((function(u){if(u.authResponse){var e=u.authResponse;FB.api("/me?fields="+l.fields,(function(l){var t=new I;t.id=l.id,t.name=l.name,t.email=l.email,t.photoUrl="https://graph.facebook.com/"+l.id+"/picture?type=normal",t.firstName=l.first_name,t.lastName=l.last_name,t.authToken=e.accessToken,t.facebook=l,n(t)}))}else t("User cancelled login or did not fully authorize.")}),l.opt)}))}))},l.prototype.signOut=function(){var n=this;return new Promise((function(l,t){n.onReady().then((function(){FB.logout((function(n){l()}))}))}))},l.PROVIDER_ID="FACEBOOK",l}(L),R=new y([{id:O.PROVIDER_ID,provider:new O("331766081826-rc4on5rhpo6g7phsm883vu2l53r3tvvi.apps.googleusercontent.com")}]);function x(){return R}var P=function(){return function(){}}(),C=t("pMnS"),D=t("gIcY"),T=t("LD3n"),k=t("D3ZQ"),E=t("+ga3"),F=function(){function n(n,l,t,u,e,i){this.authService=n,this.authenticationService=l,this.tokenStorage=t,this.router=u,this.formBuilder=e,this.userService=i,this.submitted=!1}return n.prototype.signInWithGoogle=function(){var n=this;this.authService.signIn(O.PROVIDER_ID).then((function(l){n.user=l,localStorage.setItem("userData",JSON.stringify(l)),null===l&&void 0===l||n.userService.saveStaff(n.user).subscribe((function(t){console.log(t),n.message=t.message,n.loggedUser=t,localStorage.setItem("email",l.email),localStorage.setItem("name",l.name),localStorage.setItem("photoUrl",l.photoUrl)}),(function(n){console.log(n)}),(function(){"Validation error?"===n.message&&null!==n.loggedUser.user.department?n.authenticate({username:l.email,password:"Pass1234"}):n.router.navigate(["/login/assign-department"])}))}))},n.prototype.signInWithFB=function(){this.authService.signIn(N.PROVIDER_ID)},n.prototype.signOut=function(){this.authService.signOut()},n.prototype.ngOnInit=function(){var n=this;localStorage.clear(),this.loginForm=this.formBuilder.group({username:["",D.v.required],password:["",D.v.required]}),this.authService.authState.subscribe((function(l){n.user=l,n.loggedIn=null!=l}))},Object.defineProperty(n.prototype,"f",{get:function(){return this.loginForm.controls},enumerable:!0,configurable:!0}),n.prototype.onSubmit=function(){this.submitted=!0,this.loginForm.invalid||this.authenticate(this.loginForm.value)},n.prototype.onReset=function(){this.submitted=!1,this.loginForm.reset()},n.prototype.authenticate=function(n){var l=this;console.log(n.username),this.authenticationService.authenticate(n.username,n.password).subscribe((function(n){localStorage.setItem("userRoles",JSON.stringify(n.user.userRoles)),localStorage.setItem("email",n.user.userName),localStorage.setItem("name",n.user.displayName),l.tokenStorage.saveToken(n.token),l.item=n,console.log("supposed to push**********")}),(function(n){}),(function(){console.log("supposed to push"),l.router.navigate(["/gene/home"])}))},n}(),V=t("ZYCi"),U=u.ub({encapsulation:2,styles:[],data:{}});function z(n){return u.Yb(0,[(n()(),u.wb(0,0,null,null,62,"div",[["class","app-body"]],null,null,null,null,null)),(n()(),u.wb(1,0,null,null,61,"main",[["class","main d-flex align-items-center"]],null,null,null,null,null)),(n()(),u.wb(2,0,null,null,60,"div",[["class","container"]],null,null,null,null,null)),(n()(),u.wb(3,0,null,null,59,"div",[["class","row"]],null,null,null,null,null)),(n()(),u.wb(4,0,null,null,58,"div",[["class","col-md-8 mx-auto"]],null,null,null,null,null)),(n()(),u.wb(5,0,null,null,57,"div",[["class","card-group"]],null,null,null,null,null)),(n()(),u.wb(6,0,null,null,41,"div",[["class","card p-4"]],null,null,null,null,null)),(n()(),u.wb(7,0,null,null,40,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),u.wb(8,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var e=!0,i=n.component;return"submit"===l&&(e=!1!==u.Lb(n,10).onSubmit(t)&&e),"reset"===l&&(e=!1!==u.Lb(n,10).onReset()&&e),"ngSubmit"===l&&(e=!1!==i.onSubmit()&&e),e}),null,null)),u.vb(9,16384,null,0,D.A,[],null,null),u.vb(10,540672,null,0,D.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Qb(2048,null,D.c,null,[D.h]),u.vb(12,16384,null,0,D.n,[[4,D.c]],null,null),(n()(),u.wb(13,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Login"])),(n()(),u.wb(15,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Sign In to your account"])),(n()(),u.wb(17,0,null,null,11,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(n()(),u.wb(18,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(n()(),u.wb(19,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),u.wb(20,0,null,null,0,"i",[["class","icon-user"]],null,null,null,null,null)),(n()(),u.wb(21,0,null,null,7,"input",[["autocomplete","username"],["class","form-control"],["formControlName","username"],["placeholder","Username"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var e=!0;return"input"===l&&(e=!1!==u.Lb(n,22)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u.Lb(n,22).onTouched()&&e),"compositionstart"===l&&(e=!1!==u.Lb(n,22)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u.Lb(n,22)._compositionEnd(t.target.value)&&e),e}),null,null)),u.vb(22,16384,null,0,D.d,[u.D,u.l,[2,D.a]],null,null),u.vb(23,16384,null,0,D.t,[],{required:[0,"required"]},null),u.Qb(1024,null,D.j,(function(n){return[n]}),[D.t]),u.Qb(1024,null,D.k,(function(n){return[n]}),[D.d]),u.vb(26,671744,null,0,D.g,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.y]],{name:[0,"name"]},null),u.Qb(2048,null,D.l,null,[D.g]),u.vb(28,16384,null,0,D.m,[[4,D.l]],null,null),(n()(),u.wb(29,0,null,null,11,"div",[["class","input-group mb-4"]],null,null,null,null,null)),(n()(),u.wb(30,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(n()(),u.wb(31,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),u.wb(32,0,null,null,0,"i",[["class","icon-lock"]],null,null,null,null,null)),(n()(),u.wb(33,0,null,null,7,"input",[["autocomplete","current-password"],["class","form-control"],["formControlName","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var e=!0;return"input"===l&&(e=!1!==u.Lb(n,34)._handleInput(t.target.value)&&e),"blur"===l&&(e=!1!==u.Lb(n,34).onTouched()&&e),"compositionstart"===l&&(e=!1!==u.Lb(n,34)._compositionStart()&&e),"compositionend"===l&&(e=!1!==u.Lb(n,34)._compositionEnd(t.target.value)&&e),e}),null,null)),u.vb(34,16384,null,0,D.d,[u.D,u.l,[2,D.a]],null,null),u.vb(35,16384,null,0,D.t,[],{required:[0,"required"]},null),u.Qb(1024,null,D.j,(function(n){return[n]}),[D.t]),u.Qb(1024,null,D.k,(function(n){return[n]}),[D.d]),u.vb(38,671744,null,0,D.g,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.y]],{name:[0,"name"]},null),u.Qb(2048,null,D.l,null,[D.g]),u.vb(40,16384,null,0,D.m,[[4,D.l]],null,null),(n()(),u.wb(41,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(n()(),u.wb(42,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(n()(),u.wb(43,0,null,null,1,"button",[["class","btn btn-primary px-4"],["type","submit"]],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Login"])),(n()(),u.wb(45,0,null,null,2,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(n()(),u.wb(46,0,null,null,1,"button",[["class","btn btn-link px-0"],["type","button"]],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Forgot password?"])),(n()(),u.wb(48,0,null,null,14,"div",[["class","card text-white bg-dark py-5 d-md-down-none"],["style","width:44%"]],null,null,null,null,null)),(n()(),u.wb(49,0,null,null,13,"div",[["class","card-body text-center"]],null,null,null,null,null)),(n()(),u.wb(50,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),u.wb(51,0,null,null,0,"img",[["class","col-md-11"],["src","assets/img/brand/geneinsure-logo1.png"]],null,null,null,null,null)),(n()(),u.wb(52,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.wb(53,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.wb(54,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.wb(55,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.wb(56,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.wb(57,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.wb(58,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.wb(59,0,null,null,3,"button",[["class","btn btn-brand btn-lg btn-google-plus active mt-3"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.signInWithGoogle()&&u),u}),null,null)),(n()(),u.wb(60,0,null,null,0,"i",[["class","fa fa-google-plus"]],null,null,null,null,null)),(n()(),u.wb(61,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Google+"]))],(function(n,l){n(l,10,0,l.component.loginForm),n(l,23,0,""),n(l,26,0,"username"),n(l,35,0,""),n(l,38,0,"password")}),(function(n,l){n(l,8,0,u.Lb(l,12).ngClassUntouched,u.Lb(l,12).ngClassTouched,u.Lb(l,12).ngClassPristine,u.Lb(l,12).ngClassDirty,u.Lb(l,12).ngClassValid,u.Lb(l,12).ngClassInvalid,u.Lb(l,12).ngClassPending),n(l,21,0,u.Lb(l,23).required?"":null,u.Lb(l,28).ngClassUntouched,u.Lb(l,28).ngClassTouched,u.Lb(l,28).ngClassPristine,u.Lb(l,28).ngClassDirty,u.Lb(l,28).ngClassValid,u.Lb(l,28).ngClassInvalid,u.Lb(l,28).ngClassPending),n(l,33,0,u.Lb(l,35).required?"":null,u.Lb(l,40).ngClassUntouched,u.Lb(l,40).ngClassTouched,u.Lb(l,40).ngClassPristine,u.Lb(l,40).ngClassDirty,u.Lb(l,40).ngClassValid,u.Lb(l,40).ngClassInvalid,u.Lb(l,40).ngClassPending)}))}function q(n){return u.Yb(0,[(n()(),u.wb(0,0,null,null,1,"app-dashboard",[],null,null,null,z,U)),u.vb(1,114688,null,0,F,[_,T.a,k.a,V.l,D.e,E.a],null,null)],(function(n,l){n(l,1,0)}),null)}var j=u.sb("app-dashboard",F,q,{},{},[]),G=t("Ip0R"),J=t("PgjP"),B=function(){function n(n,l,t,u,e,i){this.router=n,this.formBuilder=l,this.userService=t,this.departmentService=u,this.tokenStorage=e,this.authenticationService=i}return n.prototype.ngOnInit=function(){this.createForm(),this.getDepartments()},n.prototype.createForm=function(){this.assignDepartmentForm=this.formBuilder.group({department:["",D.v.required]})},n.prototype.onSubmit=function(){var n=this;this.userService.setDepartment(localStorage.getItem("email"),this.assignDepartmentForm.value.department.name).subscribe((function(n){console.log(n)}),(function(n){}),(function(){var l={username:localStorage.getItem("email"),password:"Pass1234"};n.authenticate(l)}))},n.prototype.getDepartments=function(){var n=this;this.departmentService.getAll().subscribe((function(l){n.departmentList=l,console.log(l)}),(function(n){}),(function(){}))},n.prototype.authenticate=function(n){var l=this;this.authenticationService.authenticate(n.username,n.password).subscribe((function(n){localStorage.setItem("userRoles",JSON.stringify(n.user.userRoles)),localStorage.setItem("email",n.user.userName),localStorage.setItem("name",n.user.displayName),l.tokenStorage.saveToken(n.token),l.item=n}),(function(n){}),(function(){l.router.navigate(["/gene/home"])}))},n}(),A=u.ub({encapsulation:2,styles:[],data:{}});function M(n){return u.Yb(0,[(n()(),u.wb(0,0,null,null,3,"option",[],null,null,null,null,null)),u.vb(1,147456,null,0,D.q,[u.l,u.D,[2,D.u]],{ngValue:[0,"ngValue"]},null),u.vb(2,147456,null,0,D.z,[u.l,u.D,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),u.Vb(3,null,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit),n(l,2,0,l.context.$implicit)}),(function(n,l){n(l,3,0,l.context.$implicit.name)}))}function Q(n){return u.Yb(0,[(n()(),u.wb(0,0,null,null,34,"div",[["class","app-body"]],null,null,null,null,null)),(n()(),u.wb(1,0,null,null,33,"main",[["class","main d-flex align-items-center"]],null,null,null,null,null)),(n()(),u.wb(2,0,null,null,32,"div",[["class","container"]],null,null,null,null,null)),(n()(),u.wb(3,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(n()(),u.wb(4,0,null,null,30,"div",[["class","col-md-8 mx-auto"]],null,null,null,null,null)),(n()(),u.wb(5,0,null,null,29,"div",[["class","card-group"]],null,null,null,null,null)),(n()(),u.wb(6,0,null,null,28,"div",[["class","card p-4"]],null,null,null,null,null)),(n()(),u.wb(7,0,null,null,27,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),u.wb(8,0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var e=!0,i=n.component;return"submit"===l&&(e=!1!==u.Lb(n,10).onSubmit(t)&&e),"reset"===l&&(e=!1!==u.Lb(n,10).onReset()&&e),"ngSubmit"===l&&(e=!1!==i.onSubmit()&&e),e}),null,null)),u.vb(9,16384,null,0,D.A,[],null,null),u.vb(10,540672,null,0,D.h,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Qb(2048,null,D.c,null,[D.h]),u.vb(12,16384,null,0,D.n,[[4,D.c]],null,null),(n()(),u.wb(13,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Set Up Your Account"])),(n()(),u.wb(15,0,null,null,1,"p",[["class","text-muted"]],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Please Select Your Department"])),(n()(),u.wb(17,0,null,null,13,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(n()(),u.wb(18,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(n()(),u.wb(19,0,null,null,1,"span",[["class","input-group-text"]],null,null,null,null,null)),(n()(),u.wb(20,0,null,null,0,"i",[["class","icon-people"]],null,null,null,null,null)),(n()(),u.wb(21,0,null,null,9,"select",[["autocomplete","department"],["class","form-control form-control-lg"],["formControlName","department"],["placeholder","Departments"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(n,l,t){var e=!0;return"change"===l&&(e=!1!==u.Lb(n,22).onChange(t.target.value)&&e),"blur"===l&&(e=!1!==u.Lb(n,22).onTouched()&&e),e}),null,null)),u.vb(22,16384,null,0,D.u,[u.D,u.l],null,null),u.vb(23,16384,null,0,D.t,[],{required:[0,"required"]},null),u.Qb(1024,null,D.j,(function(n){return[n]}),[D.t]),u.Qb(1024,null,D.k,(function(n){return[n]}),[D.u]),u.vb(26,671744,null,0,D.g,[[3,D.c],[6,D.j],[8,null],[6,D.k],[2,D.y]],{name:[0,"name"]},null),u.Qb(2048,null,D.l,null,[D.g]),u.vb(28,16384,null,0,D.m,[[4,D.l]],null,null),(n()(),u.fb(16777216,null,null,1,null,M)),u.vb(30,278528,null,0,G.m,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.wb(31,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(n()(),u.wb(32,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(n()(),u.wb(33,0,null,null,1,"button",[["class","btn btn-primary btn-lg px-4"],["type","submit"]],null,null,null,null,null)),(n()(),u.Vb(-1,null,["Set"]))],(function(n,l){var t=l.component;n(l,10,0,t.assignDepartmentForm),n(l,23,0,""),n(l,26,0,"department"),n(l,30,0,t.departmentList)}),(function(n,l){n(l,8,0,u.Lb(l,12).ngClassUntouched,u.Lb(l,12).ngClassTouched,u.Lb(l,12).ngClassPristine,u.Lb(l,12).ngClassDirty,u.Lb(l,12).ngClassValid,u.Lb(l,12).ngClassInvalid,u.Lb(l,12).ngClassPending),n(l,21,0,u.Lb(l,23).required?"":null,u.Lb(l,28).ngClassUntouched,u.Lb(l,28).ngClassTouched,u.Lb(l,28).ngClassPristine,u.Lb(l,28).ngClassDirty,u.Lb(l,28).ngClassValid,u.Lb(l,28).ngClassInvalid,u.Lb(l,28).ngClassPending)}))}function Y(n){return u.Yb(0,[(n()(),u.wb(0,0,null,null,1,"app-dashboard",[],null,null,null,Q,A)),u.vb(1,114688,null,0,B,[V.l,D.e,E.a,J.a,k.a,T.a],null,null)],(function(n,l){n(l,1,0)}),null)}var W=u.sb("app-dashboard",B,Y,{},{},[]),Z={title:"Login"},$={title:"Login"},K={title:"Assign Department"},X=function(){return function(){}}(),H=u.tb(P,[],(function(n){return u.Ib([u.Jb(512,u.j,u.X,[[8,[C.a,j,W]],[3,u.j],u.x]),u.Jb(4608,G.p,G.o,[u.u]),u.Jb(5120,y,x,[]),u.Jb(4608,_,_,[y]),u.Jb(4608,D.e,D.e,[]),u.Jb(4608,D.x,D.x,[]),u.Jb(1073742336,G.c,G.c,[]),u.Jb(1073742336,S,S,[[3,S]]),u.Jb(1073742336,V.p,V.p,[[2,V.u],[2,V.l]]),u.Jb(1073742336,X,X,[]),u.Jb(1073742336,D.w,D.w,[]),u.Jb(1073742336,D.s,D.s,[]),u.Jb(1073742336,P,P,[]),u.Jb(1024,V.j,(function(){return[[{path:"",data:Z,children:[{path:"",redirectTo:"login"},{path:"login",component:F,data:$},{path:"assign-department",component:B,data:K}]}]]}),[])])}))}}]);